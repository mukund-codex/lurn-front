(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"6Br6":function(e,t,n){"use strict";var r=n("HDdC"),a=n("VRyK");r.a.merge=a.a},"82/m":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("G5QB"),a=n("fXoL"),o=n("tk/3"),i=n("ZtWP"),l=n("hHWK");let s=(()=>{class e extends r.a{constructor(e,t,n){super("section",e),this.http=e,this.companyService=t,this.campaignService=n}setSectionId(e){this.section_id=e}getSectionId(){return this.section_id}setCourseId(e){this.course_id=e}getCourseId(){return this.course_id}getCampaigns(e){return this.campaignService.getAll({company_id:e})}getTypesFromCampaign(e){return this.http.get(`${this.apiUrl}campaign/geography_from_campaign?campaign_id=`+e)}getSectionData(e,t){return this.http.get(`${this.apiUrl}section/section_dropdown_list?campaign_id=`+t+"&course_id="+e)}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](o.b),a["\u0275\u0275inject"](i.a),a["\u0275\u0275inject"](l.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},UEVY:function(e,t,n){"use strict";var r=n("HDdC"),a=n("5+tZ");function o(e,t=Number.POSITIVE_INFINITY){return Object(a.a)(e,t)(this)}r.a.prototype.mergeMap=o,r.a.prototype.flatMap=o},XkIt:function(e,t,n){"use strict";n.r(t),n.d(t,"LanguageModule",(function(){return ne}));var r=n("ofXK"),a=n("1kSV"),o=n("tyNb"),i=(n("UEVY"),n("6Br6"),n("quSY")),l=n("HDdC"),s=n("uu/O"),d=n("lJxs"),c=n("bOdf"),m=n("Kj3r"),u=n("/uUt"),g=n("eIep"),p=n("fXoL"),f=n("kyOO"),h=n("5eHb"),v=n("utbL"),S=n("QJFE"),x=n("3Pt+");const b=["searchForm"];function E(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",20),p["\u0275\u0275elementStart"](1,"b",21),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"]("Total Records : ",null==e.records.meta||null==e.records.meta.pagination?null:e.records.meta.pagination.total,"")}}function C(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td"),p["\u0275\u0275text"](2,"No Records Found!"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275attribute"]("colSpan",3))}function y(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"a",27),p["\u0275\u0275listener"]("confirm",(function(){p["\u0275\u0275restoreView"](e);const t=p["\u0275\u0275nextContext"]().$implicit;return p["\u0275\u0275nextContext"](2).delete(t.id)})),p["\u0275\u0275element"](1,"i",28),p["\u0275\u0275elementEnd"]()}if(2&e){p["\u0275\u0275nextContext"](3);const e=p["\u0275\u0275reference"](9);p["\u0275\u0275property"]("swal",e)}}const w=function(e){return[e]};function I(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"tr"),p["\u0275\u0275elementStart"](1,"td"),p["\u0275\u0275elementStart"](2,"a",23),p["\u0275\u0275element"](3,"i",24),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](4,y,2,1,"a",25),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"th",26),p["\u0275\u0275text"](6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"td"),p["\u0275\u0275text"](8),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,r=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("routerLink",p["\u0275\u0275pureFunction1"](4,w,"/language/edit/"+e.id)),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("ngIf",r.showDelete),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",(r.records.meta.pagination.current_page-1)*r.records.meta.pagination.per_page+n+1," "),p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](e.name)}}function _(e,t){if(1&e&&(p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275template"](1,C,3,1,"tr",18),p["\u0275\u0275template"](2,I,9,6,"tr",22),p["\u0275\u0275elementContainerEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",!e.records.data.length),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",e.records.data)}}function F(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275elementStart"](1,"ngb-pagination",29),p["\u0275\u0275listener"]("pageChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().pageChange(t)}))("pageChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().records.meta.pagination.current_page=t})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("maxSize",3)("rotate",!0)("collectionSize",e.records.meta.pagination.total)("pageSize",e.records.meta.pagination.per_page)("page",e.records.meta.pagination.current_page)}}function k(e,t){1&e&&p["\u0275\u0275text"](0,"Loading Data...")}let j=(()=>{class e{constructor(e,t,n,r){this.languageService=e,this.router=t,this.activeRoute=n,this.toasterService=r,this.parameters={},this.searchObj={},this.showExport=!1,this.showDelete=!1,this.subscription=new i.a}ngOnInit(){this.title=this.activeRoute.snapshot.data.title;const e=this.languageService.checkPermissionExist(["export-language","remove-language"]);this.showExport=e[0],this.showDelete=e[1]}ngAfterViewInit(){this.subscription=l.a.merge(this.activeRoute.queryParams.pipe(Object(d.a)(e=>(this.parameters=s.a.merge({},this.parameters,e),this.parameters)),Object(c.a)(e=>this.loadData(e))),this.search()).subscribe(e=>{this.records=e})}loadData(e){return this.languageService.getAll(e)}pageChange(e){this.router.navigate([],{relativeTo:this.activeRoute,queryParams:{page:e}})}delete(e){const t=new FormData;this.languageService.delete(t,e).subscribe(e=>{this.toasterService.success("Record Deleted!","Success!",{positionClass:"toast-top-right"}),this.sf.form.updateValueAndValidity()},e=>{this.handleError(e)})}handleError(e){400===e.status?this.toasterService.error(e.error.message,"Error!",{positionClass:"toast-top-right"}):alert("Problems while deleting records!")}export(){const e=this.languageService.getCurrentDate();this.languageService.exportData(this.searchObj,"Language-"+e)}search(){return this.sf.valueChanges.pipe(Object(m.a)(400),Object(u.a)(),Object(d.a)(e=>(this.searchObj=s.a.removeNullKeys(e),this.parameters=s.a.merge({},this.parameters,this.searchObj),this.parameters)),Object(g.a)(e=>this.loadData(e)))}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](f.a),p["\u0275\u0275directiveInject"](o.c),p["\u0275\u0275directiveInject"](o.a),p["\u0275\u0275directiveInject"](h.b))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-language"]],viewQuery:function(e,t){var n;1&e&&p["\u0275\u0275viewQuery"](b,!0),2&e&&p["\u0275\u0275queryRefresh"](n=p["\u0275\u0275loadQuery"]())&&(t.sf=n.first)},decls:35,vars:10,consts:[["id","simple-table"],[1,"row"],[1,"col-sm-12"],[1,"card","card-border-shadow-0"],[1,"card-header","m-top-bottom-10"],[1,"card-title","module-title"],[3,"addRedirect","showExport","showImport","download"],["title","Are you sure ?","text","This cannot be undone","icon","question",3,"showCancelButton","focusCancel"],["deleteSwal",""],[1,"card-body"],[1,"card-block"],["style","float:right;",4,"ngIf"],["name","searchForm"],["searchForm","ngForm"],[1,"table-responsive"],[1,"table","table-bordered","table-condensed"],["type","text","name","language_name","placeholder","Search By Name",1,"form-control",3,"keyup"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["loading",""],[2,"float","right"],[1,"tot-record"],[4,"ngFor","ngForOf"],[1,"ng2-smart-action","ng2-smart-action-edit-edit",3,"routerLink"],[1,"ft-edit-2","info","font-medium-1","mr-2"],["class","ng2-smart-action ng2-smart-action-delete-delete",3,"swal","confirm",4,"ngIf"],["scope","row"],[1,"ng2-smart-action","ng2-smart-action-delete-delete",3,"swal","confirm"],[1,"ft-x","danger","font-medium-1","mr-2"],[3,"maxSize","rotate","collectionSize","pageSize","page","pageChange"]],template:function(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"section",0),p["\u0275\u0275elementStart"](1,"div",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"div",3),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275elementStart"](5,"h4",5),p["\u0275\u0275text"](6),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"app-actionbtns",6),p["\u0275\u0275listener"]("download",(function(){return t.export()})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](8,"swal",7,8),p["\u0275\u0275elementStart"](10,"div",9),p["\u0275\u0275elementStart"](11,"div",10),p["\u0275\u0275template"](12,E,3,1,"div",11),p["\u0275\u0275elementStart"](13,"form",12,13),p["\u0275\u0275elementStart"](15,"div",14),p["\u0275\u0275elementStart"](16,"table",15),p["\u0275\u0275elementStart"](17,"thead"),p["\u0275\u0275elementStart"](18,"tr"),p["\u0275\u0275elementStart"](19,"th"),p["\u0275\u0275text"](20,"Action"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"th"),p["\u0275\u0275text"](22,"Sr. No"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"th"),p["\u0275\u0275text"](24,"Language Name"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](25,"tbody"),p["\u0275\u0275elementStart"](26,"tr"),p["\u0275\u0275element"](27,"td"),p["\u0275\u0275element"](28,"td"),p["\u0275\u0275elementStart"](29,"td"),p["\u0275\u0275elementStart"](30,"input",16),p["\u0275\u0275listener"]("keyup",(function(){return t.search()})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](31,_,3,2,"ng-container",17),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](32,F,2,5,"div",18),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](33,k,1,0,"ng-template",null,19,p["\u0275\u0275templateRefExtractor"]),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275reference"](34);p["\u0275\u0275advance"](6),p["\u0275\u0275textInterpolate"](t.title),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("addRedirect","/language/add")("showExport",t.showExport)("showImport",!1),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("showCancelButton",!0)("focusCancel",!0),p["\u0275\u0275advance"](4),p["\u0275\u0275property"]("ngIf",t.records),p["\u0275\u0275advance"](19),p["\u0275\u0275property"]("ngIf",t.records)("ngIfElse",e),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.records)}},directives:[v.a,S.a,r.n,x.D,x.r,x.s,r.m,o.f,S.b,a.l],styles:[""]}),e})();var O=n("TnO9"),P=n("R9Cn");function V(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1,"Language Name is required!"),p["\u0275\u0275elementEnd"]())}function D(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1,"Language Name must be minimum 3 characters!"),p["\u0275\u0275elementEnd"]())}function L(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1,"Language Name can have maximum 50 characters!"),p["\u0275\u0275elementEnd"]())}function N(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1,"Please enter a valid Language Name!"),p["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",35),p["\u0275\u0275template"](1,V,2,0,"div",21),p["\u0275\u0275template"](2,D,2,0,"div",21),p["\u0275\u0275template"](3,L,2,0,"div",21),p["\u0275\u0275template"](4,N,2,0,"div",21),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.languageForm.get("name").errors.required),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.languageForm.get("name").errors.minlength),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.languageForm.get("name").errors.maxlength),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.languageForm.get("name").errors.pattern)}}function A(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275element"](1,"input",36),p["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",35),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.error_messages.name," ")}}function B(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"span"),p["\u0275\u0275elementStart"](1,"p"),p["\u0275\u0275text"](2,"Previously Selected Logo :"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](3,"img",37),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](3),p["\u0275\u0275propertyInterpolate"]("src",e.currentLogo,p["\u0275\u0275sanitizeUrl"])}}function M(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div",35),p["\u0275\u0275text"](1," Please Select File! "),p["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",35),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.error_messages.logo," ")}}function z(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1,"BG Color is required!"),p["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",35),p["\u0275\u0275template"](1,z,2,0,"div",21),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]().index,t=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.languageForm.get("settings").controls[e].controls.bg_color.errors.required)}}function Q(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"div"),p["\u0275\u0275text"](1,"Text Color is required!"),p["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",35),p["\u0275\u0275template"](1,Q,2,0,"div",21),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275nextContext"]().index,t=p["\u0275\u0275nextContext"](2);p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.languageForm.get("settings").controls[e].controls.text_color.errors.required)}}function K(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementContainerStart"](0,38),p["\u0275\u0275elementStart"](1,"div",12),p["\u0275\u0275elementStart"](2,"div",16),p["\u0275\u0275elementStart"](3,"label",39),p["\u0275\u0275text"](4," Background Color "),p["\u0275\u0275elementStart"](5,"span",18),p["\u0275\u0275text"](6,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"input",40),p["\u0275\u0275listener"]("colorPickerChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](2).color1=t}))("colorPickerChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](2).bgcolorChanged(t)})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](8,U,2,1,"div",20),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](9,"div",12),p["\u0275\u0275elementStart"](10,"div",16),p["\u0275\u0275elementStart"](11,"label",39),p["\u0275\u0275text"](12," Text Color "),p["\u0275\u0275elementStart"](13,"span",18),p["\u0275\u0275text"](14,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"input",41),p["\u0275\u0275listener"]("colorPickerChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](2).color2=t}))("colorPickerChange",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"](2).textcolorChanged(t)})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](16,G,2,1,"div",20),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.index,n=p["\u0275\u0275nextContext"](2);p["\u0275\u0275property"]("formGroupName",e),p["\u0275\u0275advance"](7),p["\u0275\u0275styleProp"]("background",n.color1,p["\u0275\u0275defaultStyleSanitizer"]),p["\u0275\u0275property"]("colorPicker",n.color1),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.submitted&&n.languageForm.get("settings").controls[e].controls.bg_color.errors),p["\u0275\u0275advance"](7),p["\u0275\u0275styleProp"]("background",n.color2,p["\u0275\u0275defaultStyleSanitizer"]),p["\u0275\u0275property"]("colorPicker",n.color2),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",n.submitted&&n.languageForm.get("settings").controls[e].controls.text_color.errors)}}const X=function(e){return{"is-invalid":e}},H=function(){return["/language"]};function Y(e,t){if(1&e){const e=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementContainerStart"](0),p["\u0275\u0275elementStart"](1,"form",8),p["\u0275\u0275listener"]("ngSubmit",(function(){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().onSubmit()})),p["\u0275\u0275elementStart"](2,"div",9),p["\u0275\u0275elementStart"](3,"h4",10),p["\u0275\u0275element"](4,"i",11),p["\u0275\u0275text"](5),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](6,"div",12),p["\u0275\u0275elementStart"](7,"div",13),p["\u0275\u0275elementStart"](8,"div",4),p["\u0275\u0275elementStart"](9,"div",5),p["\u0275\u0275elementStart"](10,"div",14),p["\u0275\u0275elementStart"](11,"div",9),p["\u0275\u0275elementStart"](12,"h4",10),p["\u0275\u0275element"](13,"i",15),p["\u0275\u0275text"](14," Basic Details "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](15,"div",12),p["\u0275\u0275elementStart"](16,"div",16),p["\u0275\u0275elementStart"](17,"label",17),p["\u0275\u0275text"](18," Language Name "),p["\u0275\u0275elementStart"](19,"span",18),p["\u0275\u0275text"](20,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](21,"input",19),p["\u0275\u0275template"](22,R,5,4,"div",20),p["\u0275\u0275template"](23,A,2,0,"div",21),p["\u0275\u0275template"](24,q,2,1,"div",20),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](25,"div",12),p["\u0275\u0275elementStart"](26,"div",16),p["\u0275\u0275elementStart"](27,"label",22),p["\u0275\u0275text"](28," Logo "),p["\u0275\u0275elementStart"](29,"span",18),p["\u0275\u0275text"](30,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"input",23),p["\u0275\u0275listener"]("change",(function(t){return p["\u0275\u0275restoreView"](e),p["\u0275\u0275nextContext"]().logoChange(t.target.files)})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](32,B,4,1,"span",21),p["\u0275\u0275template"](33,M,2,0,"div",20),p["\u0275\u0275template"](34,T,2,1,"div",20),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](35,"div",12),p["\u0275\u0275elementStart"](36,"div",16),p["\u0275\u0275elementStart"](37,"label",24),p["\u0275\u0275text"](38," Is Active ? "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](39,"br"),p["\u0275\u0275element"](40,"ui-switch",25),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](41,"div",13),p["\u0275\u0275elementStart"](42,"div",4),p["\u0275\u0275elementStart"](43,"div",5),p["\u0275\u0275elementStart"](44,"div",14),p["\u0275\u0275elementStart"](45,"div",9),p["\u0275\u0275elementStart"](46,"h4",10),p["\u0275\u0275element"](47,"i",26),p["\u0275\u0275text"](48," Language Settings "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerStart"](49,27),p["\u0275\u0275template"](50,K,17,9,"ng-container",28),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275element"](51,"br"),p["\u0275\u0275element"](52,"br"),p["\u0275\u0275element"](53,"br"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](54,"div",29),p["\u0275\u0275elementStart"](55,"div",12),p["\u0275\u0275elementStart"](56,"div",30),p["\u0275\u0275elementStart"](57,"button",31),p["\u0275\u0275element"](58,"i",32),p["\u0275\u0275text"](59," Cancel "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](60,"button",33),p["\u0275\u0275element"](61,"i",34),p["\u0275\u0275text"](62," Save "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("formGroup",e.languageForm),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate1"](" ",e.title," "),p["\u0275\u0275advance"](16),p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](11,X,e.submitted&&e.languageForm.get("name").errors)),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.submitted&&e.languageForm.get("name").errors),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",1==e.editFlag),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.error_messages.name),p["\u0275\u0275advance"](8),p["\u0275\u0275property"]("ngIf",e.language_id),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.submitted&&!e.logo),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",e.error_messages.logo),p["\u0275\u0275advance"](16),p["\u0275\u0275property"]("ngForOf",e.settings.controls),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("routerLink",p["\u0275\u0275pureFunction0"](13,H))}}function $(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"p"),p["\u0275\u0275text"](1,"Loading Data..."),p["\u0275\u0275elementEnd"]())}function J(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"p"),p["\u0275\u0275text"](1,"Loading Data..."),p["\u0275\u0275elementEnd"]())}let W=(()=>{class e{constructor(e,t,n,r,a){this.activeRoute=e,this.languageService=t,this.fb=n,this.router=r,this.toasterService=a,this.change_in_params={},this.submitted=!1,this.logo=null,this.formData=new FormData,this.editFlag=!1,this.color1="#ffffff",this.color2="#ffffff",this.error_messages=[]}ngOnInit(){this.title=this.activeRoute.snapshot.data.title,this.buildForm=!1,this.change_in_params=this.activeRoute.params.flatMap(e=>e.id?(this.language_id=e.id,this.languageService.getAll({id:e.id})):this.activeRoute.params).subscribe(e=>{e.data?(this.logo=null,this.currentLogo=e.data[0].logo,this.languageForm=this.create_form(e.data[0])):this.languageForm=this.create_form(),this.buildForm=!0})}create_form(e){return this.fb.group({name:[e?e.name:"",[x.B.required,x.B.minLength(3),x.B.maxLength(50),x.B.pattern("^([a-zA-Z0-9 _-])+$")]],id:[e?e.id:""],logo:[],settings:this.fb.array([this.setting_arr(e)]),is_active:[e?String(e.is_active):"true"]})}setting_arr(e){return this.fb.group({bg_color:[e&&e.settings?e.settings.bg_color:"",[x.B.required]],text_color:[e&&e.settings?e.settings.text_color:"",[x.B.required]]})}formObj(){return this.languageForm.controls}logoChange(e){this.logo=e.length?e.item(0):null}bgcolorChanged(e){this.settings.controls[0].get("bg_color").patchValue(e)}textcolorChanged(e){this.settings.controls[0].get("text_color").patchValue(e)}get settings(){return this.languageForm.get("settings")}onSubmit(){this.submitted=!0,this.languageForm.invalid||(this.formData=this.languageService.convertToFormData(this.languageForm.value),this.logo?this.formData.set("logo",this.logo,this.logo.name):this.formData.delete("logo"),this.language_id?this.update():this.save())}save(){this.languageService.save(this.formData).subscribe(e=>{this.router.navigate(["/language"]).then(()=>{this.toasterService.success("Records Added Successfully!","Success!",{positionClass:"toast-top-right"})})},e=>{this.handleError(e,this.languageForm)})}update(){this.languageService.update(this.formData,this.language_id).subscribe(e=>{this.router.navigate(["/language"]).then(()=>{this.toasterService.success("Records Updated Successfully!","Success!",{positionClass:"toast-top-right"})})},e=>{this.handleError(e,this.languageForm)})}handleError(e,t){400===e.status?this.error_messages=e.error.error:alert("Problems while saving data")}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](o.a),p["\u0275\u0275directiveInject"](f.a),p["\u0275\u0275directiveInject"](x.e),p["\u0275\u0275directiveInject"](o.c),p["\u0275\u0275directiveInject"](h.b))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-form"]],decls:10,vars:2,consts:[[2,"min-height","calc(100vh - 75px)"],["id","basic-form-layouts"],[1,"row","match-height"],[1,"col-md-12","p-0"],[1,"card"],[1,"card-body"],[4,"ngIf","ngIfElse"],["norecord",""],[1,"form","col-12","clearfix",3,"formGroup","ngSubmit"],[1,"form-body"],[1,"form-section"],[1,"ft-user"],[1,"row"],[1,"col-md-6","col-sm-12","float-left","padding-1"],[1,"px-3"],[1,"ft-clipboard"],[1,"form-group","col-12","mb-2"],["for","language_name"],[2,"color","red"],["type","text","id","language_name","formControlName","name","maxlength","50","autocomplete","off",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[4,"ngIf"],["for","logo"],["type","file","formControlName","logo","id","logo","accept","image/x-png,image/gif,image/jpeg,image/jpg",1,"form-control",3,"change"],["for","is_active"],["defaultBgColor","#ff4d4d","labelOn","Yes","labelOff","No","formControlName","is_active"],[1,"ft-settings"],["formArrayName","settings"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"form-actions","center"],[1,"col-md-12"],["type","button",1,"btn","btn-raised","btn-orange","mr-1",3,"routerLink"],[1,"ft-x"],["type","submit",1,"btn","btn-raised","btn-primary"],[1,"fa","fa-check-square-o"],[1,"invalid-feedback"],["type","hidden","formControlName","id"],[2,"width","150px",3,"src"],[3,"formGroupName"],["for","color"],["formControlName","bg_color","id","bg_color","autocomplete","off",1,"form-control",3,"colorPicker","colorPickerChange"],["formControlName","text_color","id","text_color","autocomplete","off",1,"form-control",3,"colorPicker","colorPickerChange"]],template:function(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",0),p["\u0275\u0275elementStart"](1,"section",1),p["\u0275\u0275elementStart"](2,"div",2),p["\u0275\u0275elementStart"](3,"div",3),p["\u0275\u0275elementStart"](4,"div",4),p["\u0275\u0275elementStart"](5,"div",5),p["\u0275\u0275template"](6,Y,63,14,"ng-container",6),p["\u0275\u0275template"](7,$,2,0,"ng-template",null,7,p["\u0275\u0275templateRefExtractor"]),p["\u0275\u0275template"](9,J,2,0,"ng-template"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){const e=p["\u0275\u0275reference"](8);p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngIf",t.buildForm)("ngIfElse",e)}},directives:[r.n,x.D,x.r,x.j,x.b,x.q,x.h,x.m,r.l,O.a,x.d,r.m,o.d,x.k,P.a],styles:[""]}),e})();const Z=[{path:"",component:j,data:{title:"Language",permission:"list-language"}},{path:"add",component:W,data:{title:"Add Language",permission:"create-language"}},{path:"edit/:id",component:W,data:{title:"Edit Language",permission:"modify-language"}}];let ee=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.g.forChild(Z)],o.g]}),e})();var te=n("PCNd");let ne=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[f.a],imports:[[r.c,ee,a.j,x.l,a.i,P.b,x.y,te.a,S.c.forRoot()]]}),e})()},kyOO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("G5QB"),a=n("fXoL"),o=n("tk/3");let i=(()=>{class e extends r.a{constructor(e){super("language",e),this.http=e}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](o.b))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},utbL:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("fXoL"),a=n("tyNb"),o=n("hHWK"),i=n("82/m"),l=n("IAlr"),s=n("ofXK"),d=n("1kSV"),c=n("3Pt+");const m=["uploadForm"];function u(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"a",13),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().add()})),r["\u0275\u0275element"](1,"i",14),r["\u0275\u0275elementEnd"]()}}function g(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"a",13),r["\u0275\u0275listener"]("click",(function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().initiateExport()})),r["\u0275\u0275element"](1,"i",15),r["\u0275\u0275elementEnd"]()}}function p(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementStart"](0,"button",16),r["\u0275\u0275listener"]("click",(function(){r["\u0275\u0275restoreView"](e);const t=r["\u0275\u0275nextContext"]();return t.isCollapsed=!t.isCollapsed})),r["\u0275\u0275element"](1,"i",17),r["\u0275\u0275elementEnd"]()}if(2&e){const e=r["\u0275\u0275nextContext"]();r["\u0275\u0275attribute"]("aria-expanded",!e.isCollapsed)}}let f=(()=>{class e{constructor(e,t,n,a){this.router=e,this.cs=t,this.ss=n,this.courseService=a,this.download=new r.EventEmitter,this.uploaded=new r.EventEmitter,this.uploadFile=new r.EventEmitter,this.files=[],this.isCollapsed=!0,this.section_id="",this.course_id=""}ngOnInit(){this.campainId=this.cs.getCampaignId(),this.section_id=this.ss.getSectionId(),this.course_id=this.courseService.getCourseId()}add(){this.router.navigate([this.addRedirect],{queryParams:{section_id:this.section_id,campaign_id:this.campainId,course_id:this.course_id}})}initiateExport(){this.download.emit("export_data")}upload(){this.uploadFile.emit(this.files),this.isCollapsed=!0}onChange(e){const t=e.srcElement.files;this.uploaded.emit(t[0]),this.files=t[0]}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.c),r["\u0275\u0275directiveInject"](o.a),r["\u0275\u0275directiveInject"](i.a),r["\u0275\u0275directiveInject"](l.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-actionbtns"]],viewQuery:function(e,t){var n;1&e&&r["\u0275\u0275viewQuery"](m,!0),2&e&&r["\u0275\u0275queryRefresh"](n=r["\u0275\u0275loadQuery"]())&&(t.userFrm=n.first)},inputs:{addRedirect:"addRedirect",showAdd:"showAdd",showExport:"showExport",showImport:"showImport",uploadFields:"uploadFields",uploadAction:"uploadAction"},outputs:{download:"download",uploaded:"uploaded",uploadFile:"uploadFile"},decls:20,vars:5,consts:[[2,"float","right","margin-bottom","10px"],["class","btn btn-raised btn-purple m-1",3,"click",4,"ngIf"],["type","button","class","btn btn-raised btn-purple m-1","aria-controls","collapseExample",3,"click",4,"ngIf"],["id","collapseExample",3,"ngbCollapse"],[2,"margin-top","60px","margin-bottom","5px",3,"ngSubmit"],["uploadForm","ngForm"],["id","upcsv",1,"form-group","fupload-main-contianer"],[1,"fupload"],["type","file","name","upload","id","upload",1,"",3,"change"],[1,"fbtn-upload"],["type","submit",1,"btn","btn-raised","btn-purple"],[2,"clear","both"],[1,"text-danger","text-csv"],[1,"btn","btn-raised","btn-purple","m-1",3,"click"],[1,"ft-plus-circle","white","warning","font-medium-1",2,"color","#fff !important"],[1,"ft-download","white","warning","font-medium-1",2,"color","#fff !important"],["type","button","aria-controls","collapseExample",1,"btn","btn-raised","btn-purple","m-1",3,"click"],[1,"ft-upload","white","warning","font-medium-1",2,"color","#fff !important"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",0),r["\u0275\u0275template"](1,u,2,0,"a",1),r["\u0275\u0275template"](2,g,2,0,"a",1),r["\u0275\u0275template"](3,p,2,1,"button",2),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](4,"div",3),r["\u0275\u0275elementStart"](5,"form",4,5),r["\u0275\u0275listener"]("ngSubmit",(function(){return t.upload()})),r["\u0275\u0275elementStart"](7,"div",6),r["\u0275\u0275elementStart"](8,"b"),r["\u0275\u0275text"](9,"Upload CSV"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](10,"br"),r["\u0275\u0275elementStart"](11,"div",7),r["\u0275\u0275elementStart"](12,"input",8),r["\u0275\u0275listener"]("change",(function(e){return t.onChange(e)})),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](13,"br"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",9),r["\u0275\u0275elementStart"](15,"button",10),r["\u0275\u0275text"](16," Upload "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](17,"div",11),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](18,"span",12),r["\u0275\u0275text"](19),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!1!==t.showAdd),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!1!==t.showExport),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngIf",!1!==t.showImport),r["\u0275\u0275advance"](1),r["\u0275\u0275property"]("ngbCollapse",t.isCollapsed),r["\u0275\u0275advance"](15),r["\u0275\u0275textInterpolate1"]("Csv Format (",t.uploadFields,")"))},directives:[s.n,d.b,c.D,c.r,c.s],styles:[".fupload-main-contianer[_ngcontent-%COMP%]{width:50%;border:2px dotted #ffc107;padding:18px;border-radius:5px;background-color:#fffcf7}.fupload[_ngcontent-%COMP%]{padding-top:5px}.fbtn-upload[_ngcontent-%COMP%], .fupload[_ngcontent-%COMP%]{width:50%;float:left}.text-csv[_ngcontent-%COMP%]{font-size:13px}@media only screen and (max-width:600px){.fupload-main-contianer[_ngcontent-%COMP%]{width:100%!important}.fbtn-upload[_ngcontent-%COMP%], .fupload[_ngcontent-%COMP%]{width:100%}}@media only screen and (max-width:1024px){.fupload-main-contianer[_ngcontent-%COMP%]{width:80%!important}}"]}),e})()},"uu/O":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{static removeNullKeys(e){return Object.keys(e).reduce((t,n)=>{const r=t;return void 0!==e[n]&&(r[n]=e[n]),r},{})}static merge(...e){let t={};return e.forEach(e=>{t=Object.assign(t,e)}),t}static setValueCampaign(e){r.campaign_id=e}getValueCampaign(){return r.campaign_id}static dropDownSettings(e,t,n,r){return{singleSelection:e||!1,idField:n||"id",textField:r||"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,closeDropDownOnSelection:t||!0}}}}}]);
function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _createSuper(e){return function(){var t,n=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"8oFo":function(e,t,n){"use strict";n.r(t),n.d(t,"ChangePasswordModule",(function(){return M}));var r,o=n("ofXK"),a=n("1kSV"),s=n("tyNb"),i=n("3Pt+"),c=n("fXoL"),d=n("5eHb"),l=n("G5QB"),m=n("tk/3"),u=((r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,"admin",e)).http=e,r}return _createClass(n,[{key:"changePassword",value:function(e){return this.httpClient.post(this.apiUrl+"admin/change_password",e)}}]),n}(l.a)).\u0275fac=function(e){return new(e||r)(c["\u0275\u0275inject"](m.b))},r.\u0275prov=c["\u0275\u0275defineInjectable"]({token:r,factory:r.\u0275fac,providedIn:"root"}),r);function f(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Current Password is required! "),c["\u0275\u0275elementEnd"]())}function p(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please Enter atleast 3 Characters! "),c["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Current Password too long! "),c["\u0275\u0275elementEnd"]())}function h(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275template"](1,f,2,0,"div",31),c["\u0275\u0275template"](2,p,2,0,"div",31),c["\u0275\u0275template"](3,v,2,0,"div",31),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("current_password").errors.required),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("current_password").errors.minlength),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("current_password").errors.maxlength)}}function g(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.error_messages.current_password," ")}}function w(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," New Password is required! "),c["\u0275\u0275elementEnd"]())}function _(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please Enter atleast 3 Characters! "),c["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," New Password too long! "),c["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275template"](1,w,2,0,"div",31),c["\u0275\u0275template"](2,_,2,0,"div",31),c["\u0275\u0275template"](3,y,2,0,"div",31),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("new_password").errors.required),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("new_password").errors.minlength),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("new_password").errors.maxlength)}}function b(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.error_messages.new_password," ")}}function x(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Confirm Password is required! "),c["\u0275\u0275elementEnd"]())}function P(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Please Enter atleast 3 Characters! "),c["\u0275\u0275elementEnd"]())}function C(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div"),c["\u0275\u0275text"](1," Confirm Password too long! "),c["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275template"](1,x,2,0,"div",31),c["\u0275\u0275template"](2,P,2,0,"div",31),c["\u0275\u0275template"](3,C,2,0,"div",31),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("new_password_confirmation").errors.required),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("new_password_confirmation").errors.minlength),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",n.changePasswordForm.get("new_password_confirmation").errors.maxlength)}}function I(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"div",30),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275nextContext"](2);c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",n.error_messages.new_password_confirmation," ")}}var k=function(){return["/home"]};function j(e,t){if(1&e){var n=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275elementStart"](1,"form",8),c["\u0275\u0275listener"]("submit",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onSubmit()})),c["\u0275\u0275elementStart"](2,"div",9),c["\u0275\u0275elementStart"](3,"h4",10),c["\u0275\u0275element"](4,"i",11),c["\u0275\u0275text"](5),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"div",12),c["\u0275\u0275elementStart"](7,"div",13),c["\u0275\u0275elementStart"](8,"label",14),c["\u0275\u0275text"](9," Current Password "),c["\u0275\u0275elementStart"](10,"span",15),c["\u0275\u0275text"](11,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",16),c["\u0275\u0275element"](13,"input",17),c["\u0275\u0275template"](14,h,4,3,"div",18),c["\u0275\u0275template"](15,g,2,1,"div",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"div",12),c["\u0275\u0275elementStart"](17,"div",13),c["\u0275\u0275elementStart"](18,"label",19),c["\u0275\u0275text"](19," New Password "),c["\u0275\u0275elementStart"](20,"span",15),c["\u0275\u0275text"](21,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](22,"div",16),c["\u0275\u0275elementStart"](23,"input",20),c["\u0275\u0275listener"]("change",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onPasswordChange()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](24,S,4,3,"div",18),c["\u0275\u0275template"](25,b,2,1,"div",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](26,"div",12),c["\u0275\u0275elementStart"](27,"div",13),c["\u0275\u0275elementStart"](28,"label",21),c["\u0275\u0275text"](29," Confirm Password "),c["\u0275\u0275elementStart"](30,"span",15),c["\u0275\u0275text"](31,"*"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](32,"div",16),c["\u0275\u0275elementStart"](33,"input",22),c["\u0275\u0275listener"]("change",(function(){return c["\u0275\u0275restoreView"](n),c["\u0275\u0275nextContext"]().onPasswordChange()})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](34,E,4,3,"div",18),c["\u0275\u0275template"](35,I,2,1,"div",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](36,"div",23),c["\u0275\u0275element"](37,"div",24),c["\u0275\u0275elementStart"](38,"div",25),c["\u0275\u0275elementStart"](39,"a",26),c["\u0275\u0275element"](40,"i",27),c["\u0275\u0275text"](41," Cancel "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](42,"button",28),c["\u0275\u0275element"](43,"i",29),c["\u0275\u0275text"](44," Save "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=c["\u0275\u0275nextContext"]();c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("formGroup",r.changePasswordForm),c["\u0275\u0275advance"](4),c["\u0275\u0275textInterpolate1"](" ",r.title," "),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngIf",r.submitted&&r.changePasswordForm.get("current_password").errors),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.error_messages.current_password),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngIf",r.submitted&&r.changePasswordForm.get("new_password").errors),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.error_messages.new_password),c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("ngIf",r.submitted&&r.changePasswordForm.get("new_password_confirmation").errors),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",r.error_messages.new_password_confirmation),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("routerLink",c["\u0275\u0275pureFunction0"](9,k))}}function F(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p"),c["\u0275\u0275text"](1,"Loading Data..."),c["\u0275\u0275elementEnd"]())}var O,R,N,q=[{path:"",component:(O=function(){function e(t,n,r,o,a){_classCallCheck(this,e),this.fb=t,this.router=n,this.activeRoute=r,this.toasterService=o,this.passwordService=a,this.buildForm=!1,this.submitted=!1,this.mismatchPassword=!1,this.error_messages=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.title=this.activeRoute.snapshot.data.title,this.changePasswordForm=this.fb.group({current_password:["",i.B.required],new_password:["",[i.B.required,i.B.minLength(4),i.B.maxLength(25)]],new_password_confirmation:["",[i.B.required,i.B.minLength(4),i.B.maxLength(25)]]}),this.buildForm=!0}},{key:"onPasswordChange",value:function(){this.mismatchPassword=!(this.changePasswordForm.controls.new_password.value==this.changePasswordForm.controls.new_password_confirmation.value)}},{key:"onSubmit",value:function(){var e=this;this.submitted=!0,this.changePasswordForm.invalid||(this.formData=this.passwordService.convertToFormData(this.changePasswordForm.value),this.passwordService.changePassword(this.formData).subscribe((function(t){e.router.navigate(["/company"]).then((function(){e.toasterService.success("Password Updated Successfully!","Success!",{positionClass:"toast-top-right"})}))}),(function(t){e.handleError(t,e.changePasswordForm)})))}},{key:"handleError",value:function(e,t){400===e.status?(t.setErrors(e.error),this.error_messages=e.error.error):alert("Problems while saving data")}}]),e}(),O.\u0275fac=function(e){return new(e||O)(c["\u0275\u0275directiveInject"](i.e),c["\u0275\u0275directiveInject"](s.c),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](d.b),c["\u0275\u0275directiveInject"](u))},O.\u0275cmp=c["\u0275\u0275defineComponent"]({type:O,selectors:[["app-change-password"]],decls:9,vars:2,consts:[["id","basic-form-layouts"],[1,"row","match-height"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"px-3"],[4,"ngIf","ngIfElse"],["norecord",""],[1,"form","form-horizontal","striped-rows",3,"formGroup","submit"],[1,"form-body"],[1,"form-section"],[1,"ft-user"],[1,"form-group"],[1,"row"],["for","current_password",1,"col-md-3","pt-1"],[2,"color","red"],[1,"col-md-9"],["formControlName","current_password","id","current_password","type","password","autocomplete","off",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","new_password",1,"col-md-3","pt-1"],["formControlName","new_password","id","new_password","type","password","maxlength","25","autocomplete","off",1,"form-control",3,"change"],["for","new_password_confirmation",1,"col-md-3","pt-1"],["formControlName","new_password_confirmation","id","new_password_confirmation","type","password","maxlength","25","autocomplete","off",1,"form-control",3,"change"],[1,"form-actions","center"],[1,"col-md-3"],[1,"col-sm-9"],[1,"btn","btn-raised","btn-orange","mr-1",3,"routerLink"],[1,"ft-x"],["type","submit",1,"btn","btn-raised","btn-primary"],[1,"fa","fa-check-square-o"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"section",0),c["\u0275\u0275elementStart"](1,"div",1),c["\u0275\u0275elementStart"](2,"div",2),c["\u0275\u0275elementStart"](3,"div",3),c["\u0275\u0275elementStart"](4,"div",4),c["\u0275\u0275elementStart"](5,"div",5),c["\u0275\u0275template"](6,j,45,10,"ng-container",6),c["\u0275\u0275template"](7,F,2,0,"ng-template",null,7,c["\u0275\u0275templateRefExtractor"]),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275reference"](8);c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("ngIf",t.buildForm)("ngIfElse",n)}},directives:[o.n,i.D,i.r,i.j,i.b,i.q,i.h,i.m,s.f],styles:[""]}),O),data:{title:"Change Password",permission:"change-admin-password"}}],L=((R=function e(){_classCallCheck(this,e)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:R}),R.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||R)},imports:[[s.g.forChild(q)],s.g]}),R),B=n("l1pd"),D=n("PCNd"),M=((N=function e(){_classCallCheck(this,e)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:N}),N.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||N)},providers:[B.a],imports:[[o.c,L,a.j,i.l,a.i,i.y,D.a]]}),N)},kyOO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("G5QB"),o=n("fXoL"),a=n("tk/3"),s=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,"language",e)).http=e,r}return n}(r.a);return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},l1pd:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("G5QB"),o=n("2Vo4"),a=n("fXoL"),s=n("tk/3"),i=n("kyOO"),c=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,"module",e)).http=e,a.languageService=r,a.messageSource=new o.a(""),a.currentMessage=a.messageSource.asObservable(),a.messageSource2=new o.a(""),a.currentMessage2=a.messageSource.asObservable(),a}return _createClass(n,[{key:"getLanguages",value:function(){return this.languageService.allRecords()}},{key:"setModuleId",value:function(e){var t=this;this.module_id=e,this.getAll({id:this.module_id}).subscribe((function(e){t.moduleData=e,t.module_type=e.data[0].type,t.messageSource.next(e.data[0].start_date),t.messageSource2.next(e.data[0].end_date)}))}},{key:"getModuleType",value:function(){return this.module_type}},{key:"getModuleId",value:function(){return this.module_id}}]),n}(r.a);return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.b),a["\u0275\u0275inject"](i.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);
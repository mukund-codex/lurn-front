(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"8oFo":function(e,t,n){"use strict";n.r(t),n.d(t,"ChangePasswordModule",(function(){return N}));var r=n("ofXK"),o=n("1kSV"),a=n("tyNb"),s=n("3Pt+"),i=n("fXoL"),d=n("5eHb"),m=n("G5QB"),c=n("tk/3");let l=(()=>{class e extends m.a{constructor(e){super("admin",e),this.http=e}changePassword(e){return this.httpClient.post(this.apiUrl+"admin/change_password",e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](c.b))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function p(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," Current Password is required! "),i["\u0275\u0275elementEnd"]())}function u(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," Please Enter atleast 3 Characters! "),i["\u0275\u0275elementEnd"]())}function f(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," Current Password too long! "),i["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275template"](1,p,2,0,"div",31),i["\u0275\u0275template"](2,u,2,0,"div",31),i["\u0275\u0275template"](3,f,2,0,"div",31),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("current_password").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("current_password").errors.minlength),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("current_password").errors.maxlength)}}function g(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.error_messages.current_password," ")}}function h(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," New Password is required! "),i["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," Please Enter atleast 3 Characters! "),i["\u0275\u0275elementEnd"]())}function S(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," New Password too long! "),i["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275template"](1,h,2,0,"div",31),i["\u0275\u0275template"](2,v,2,0,"div",31),i["\u0275\u0275template"](3,S,2,0,"div",31),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("new_password").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("new_password").errors.minlength),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("new_password").errors.maxlength)}}function _(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.error_messages.new_password," ")}}function E(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," Confirm Password is required! "),i["\u0275\u0275elementEnd"]())}function b(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," Please Enter atleast 3 Characters! "),i["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275text"](1," Confirm Password too long! "),i["\u0275\u0275elementEnd"]())}function P(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275template"](1,E,2,0,"div",31),i["\u0275\u0275template"](2,b,2,0,"div",31),i["\u0275\u0275template"](3,y,2,0,"div",31),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("new_password_confirmation").errors.required),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("new_password_confirmation").errors.minlength),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.changePasswordForm.get("new_password_confirmation").errors.maxlength)}}function I(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",30),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.error_messages.new_password_confirmation," ")}}const C=function(){return["/home"]};function F(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"form",8),i["\u0275\u0275listener"]("submit",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onSubmit()})),i["\u0275\u0275elementStart"](2,"div",9),i["\u0275\u0275elementStart"](3,"h4",10),i["\u0275\u0275element"](4,"i",11),i["\u0275\u0275text"](5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](6,"div",12),i["\u0275\u0275elementStart"](7,"div",13),i["\u0275\u0275elementStart"](8,"label",14),i["\u0275\u0275text"](9," Current Password "),i["\u0275\u0275elementStart"](10,"span",15),i["\u0275\u0275text"](11,"*"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",16),i["\u0275\u0275element"](13,"input",17),i["\u0275\u0275template"](14,w,4,3,"div",18),i["\u0275\u0275template"](15,g,2,1,"div",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",12),i["\u0275\u0275elementStart"](17,"div",13),i["\u0275\u0275elementStart"](18,"label",19),i["\u0275\u0275text"](19," New Password "),i["\u0275\u0275elementStart"](20,"span",15),i["\u0275\u0275text"](21,"*"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](22,"div",16),i["\u0275\u0275elementStart"](23,"input",20),i["\u0275\u0275listener"]("change",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onPasswordChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](24,x,4,3,"div",18),i["\u0275\u0275template"](25,_,2,1,"div",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"div",12),i["\u0275\u0275elementStart"](27,"div",13),i["\u0275\u0275elementStart"](28,"label",21),i["\u0275\u0275text"](29," Confirm Password "),i["\u0275\u0275elementStart"](30,"span",15),i["\u0275\u0275text"](31,"*"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](32,"div",16),i["\u0275\u0275elementStart"](33,"input",22),i["\u0275\u0275listener"]("change",(function(){return i["\u0275\u0275restoreView"](e),i["\u0275\u0275nextContext"]().onPasswordChange()})),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](34,P,4,3,"div",18),i["\u0275\u0275template"](35,I,2,1,"div",18),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](36,"div",23),i["\u0275\u0275element"](37,"div",24),i["\u0275\u0275elementStart"](38,"div",25),i["\u0275\u0275elementStart"](39,"a",26),i["\u0275\u0275element"](40,"i",27),i["\u0275\u0275text"](41," Cancel "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](42,"button",28),i["\u0275\u0275element"](43,"i",29),i["\u0275\u0275text"](44," Save "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formGroup",e.changePasswordForm),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",e.title," "),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",e.submitted&&e.changePasswordForm.get("current_password").errors),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.error_messages.current_password),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",e.submitted&&e.changePasswordForm.get("new_password").errors),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.error_messages.new_password),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("ngIf",e.submitted&&e.changePasswordForm.get("new_password_confirmation").errors),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.error_messages.new_password_confirmation),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("routerLink",i["\u0275\u0275pureFunction0"](9,C))}}function j(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"p"),i["\u0275\u0275text"](1,"Loading Data..."),i["\u0275\u0275elementEnd"]())}const k=[{path:"",component:(()=>{class e{constructor(e,t,n,r,o){this.fb=e,this.router=t,this.activeRoute=n,this.toasterService=r,this.passwordService=o,this.buildForm=!1,this.submitted=!1,this.mismatchPassword=!1,this.error_messages=[]}ngOnInit(){this.title=this.activeRoute.snapshot.data.title,this.changePasswordForm=this.fb.group({current_password:["",s.B.required],new_password:["",[s.B.required,s.B.minLength(4),s.B.maxLength(25)]],new_password_confirmation:["",[s.B.required,s.B.minLength(4),s.B.maxLength(25)]]}),this.buildForm=!0}onPasswordChange(){this.mismatchPassword=!(this.changePasswordForm.controls.new_password.value==this.changePasswordForm.controls.new_password_confirmation.value)}onSubmit(){this.submitted=!0,this.changePasswordForm.invalid||(this.formData=this.passwordService.convertToFormData(this.changePasswordForm.value),this.passwordService.changePassword(this.formData).subscribe(e=>{this.router.navigate(["/company"]).then(()=>{this.toasterService.success("Password Updated Successfully!","Success!",{positionClass:"toast-top-right"})})},e=>{this.handleError(e,this.changePasswordForm)}))}handleError(e,t){400===e.status?(t.setErrors(e.error),this.error_messages=e.error.error):alert("Problems while saving data")}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.e),i["\u0275\u0275directiveInject"](a.c),i["\u0275\u0275directiveInject"](a.a),i["\u0275\u0275directiveInject"](d.b),i["\u0275\u0275directiveInject"](l))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-change-password"]],decls:9,vars:2,consts:[["id","basic-form-layouts"],[1,"row","match-height"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"px-3"],[4,"ngIf","ngIfElse"],["norecord",""],[1,"form","form-horizontal","striped-rows",3,"formGroup","submit"],[1,"form-body"],[1,"form-section"],[1,"ft-user"],[1,"form-group"],[1,"row"],["for","current_password",1,"col-md-3","pt-1"],[2,"color","red"],[1,"col-md-9"],["formControlName","current_password","id","current_password","type","password","autocomplete","off",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","new_password",1,"col-md-3","pt-1"],["formControlName","new_password","id","new_password","type","password","maxlength","25","autocomplete","off",1,"form-control",3,"change"],["for","new_password_confirmation",1,"col-md-3","pt-1"],["formControlName","new_password_confirmation","id","new_password_confirmation","type","password","maxlength","25","autocomplete","off",1,"form-control",3,"change"],[1,"form-actions","center"],[1,"col-md-3"],[1,"col-sm-9"],[1,"btn","btn-raised","btn-orange","mr-1",3,"routerLink"],[1,"ft-x"],["type","submit",1,"btn","btn-raised","btn-primary"],[1,"fa","fa-check-square-o"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275elementStart"](5,"div",5),i["\u0275\u0275template"](6,F,45,10,"ng-container",6),i["\u0275\u0275template"](7,j,2,0,"ng-template",null,7,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275reference"](8);i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngIf",t.buildForm)("ngIfElse",e)}},directives:[r.n,s.D,s.r,s.j,s.b,s.q,s.h,s.m,a.f],styles:[""]}),e})(),data:{title:"Change Password",permission:"change-admin-password"}}];let q=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.g.forChild(k)],a.g]}),e})();var L=n("l1pd"),B=n("PCNd");let N=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[L.a],imports:[[r.c,q,o.j,s.l,o.i,s.y,B.a]]}),e})()},kyOO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("G5QB"),o=n("fXoL"),a=n("tk/3");let s=(()=>{class e extends r.a{constructor(e){super("language",e),this.http=e}}return e.\u0275fac=function(t){return new(t||e)(o["\u0275\u0275inject"](a.b))},e.\u0275prov=o["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},l1pd:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("G5QB"),o=n("2Vo4"),a=n("fXoL"),s=n("tk/3"),i=n("kyOO");let d=(()=>{class e extends r.a{constructor(e,t){super("module",e),this.http=e,this.languageService=t,this.messageSource=new o.a(""),this.currentMessage=this.messageSource.asObservable(),this.messageSource2=new o.a(""),this.currentMessage2=this.messageSource.asObservable()}getLanguages(){return this.languageService.allRecords()}setModuleId(e){this.module_id=e,this.getAll({id:this.module_id}).subscribe(e=>{this.moduleData=e,this.module_type=e.data[0].type,this.messageSource.next(e.data[0].start_date),this.messageSource2.next(e.data[0].end_date)})}getModuleType(){return this.module_type}getModuleId(){return this.module_id}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](s.b),a["\u0275\u0275inject"](i.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);
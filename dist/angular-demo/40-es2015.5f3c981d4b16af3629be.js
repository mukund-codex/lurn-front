(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"6Br6":function(e,t,n){"use strict";var a=n("HDdC"),r=n("VRyK");a.a.merge=r.a},Czxw:function(e,t,n){"use strict";n.r(t),n.d(t,"ActivityLogModule",(function(){return D}));var a=n("ofXK"),r=n("1kSV"),i=n("Egam"),o=n("R9Cn"),c=n("3Pt+"),s=n("PCNd"),l=n("tyNb"),d=n("uu/O"),m=n("quSY"),p=n("HDdC"),g=(n("6Br6"),n("lJxs")),u=n("bOdf"),h=n("Kj3r"),v=n("/uUt"),S=n("eIep"),f=n("fXoL"),x=n("hHWK"),b=n("KY19");const E=["searchForm"];function C(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275elementStart"](1,"td"),f["\u0275\u0275text"](2,"No Records Found!"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](1),f["\u0275\u0275attribute"]("colSpan",3))}function y(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"tr"),f["\u0275\u0275elementStart"](1,"th",18),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"td"),f["\u0275\u0275text"](4),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](5,"td"),f["\u0275\u0275text"](6),f["\u0275\u0275pipe"](7,"json"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](8,"td"),f["\u0275\u0275text"](9),f["\u0275\u0275pipe"](10,"json"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"td"),f["\u0275\u0275text"](12),f["\u0275\u0275pipe"](13,"json"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](14,"td"),f["\u0275\u0275text"](15),f["\u0275\u0275pipe"](16,"date"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" ",(a.records.meta.pagination.current_page-1)*a.records.meta.pagination.per_page+n+1," "),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](e.log_name),f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](7,6,e.causer)),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](10,8,e.subject)),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](13,10,e.properties)),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind2"](16,12,e.date,"medium"))}}function j(e,t){if(1&e){const e=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"div"),f["\u0275\u0275elementStart"](1,"ngb-pagination",19),f["\u0275\u0275listener"]("pageChange",(function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).pageChange(t)}))("pageChange",(function(t){return f["\u0275\u0275restoreView"](e),f["\u0275\u0275nextContext"](2).records.meta.pagination.current_page=t})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){const e=f["\u0275\u0275nextContext"](2);f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("maxSize",3)("rotate",!0)("collectionSize",e.records.meta.pagination.total)("pageSize",e.records.meta.pagination.per_page)("page",e.records.meta.pagination.current_page)}}function w(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"div",12),f["\u0275\u0275elementStart"](1,"div",13),f["\u0275\u0275elementStart"](2,"b",14),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"table",15),f["\u0275\u0275elementStart"](5,"thead"),f["\u0275\u0275elementStart"](6,"tr"),f["\u0275\u0275elementStart"](7,"th"),f["\u0275\u0275text"](8,"Sr. No"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"th"),f["\u0275\u0275text"](10,"Log Name"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](11,"th"),f["\u0275\u0275text"](12,"Causer"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](13,"th"),f["\u0275\u0275text"](14,"Subject"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](15,"th"),f["\u0275\u0275text"](16,"Properties"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](17,"th"),f["\u0275\u0275text"](18,"Date"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](19,"tbody"),f["\u0275\u0275elementContainerStart"](20),f["\u0275\u0275template"](21,C,3,1,"tr",16),f["\u0275\u0275template"](22,y,17,15,"tr",17),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](23,j,2,5,"div",16),f["\u0275\u0275elementEnd"]()),2&e){const e=f["\u0275\u0275nextContext"]();f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate1"]("Total Records : ",null==e.records.meta||null==e.records.meta.pagination?null:e.records.meta.pagination.total,""),f["\u0275\u0275advance"](18),f["\u0275\u0275property"]("ngIf",!e.records.data.length),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngForOf",e.records.data),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("ngIf",e.records)}}function I(e,t){1&e&&f["\u0275\u0275text"](0,"Loading Language Data")}const _=[{path:"",component:(()=>{class e{constructor(e,t,n,a){this.router=e,this.activeRoute=t,this.campaignService=n,this.reportsService=a,this.selectedCampaign=[],this.searchObj={},this.parameters={},this.subscription=new m.a}getCurrentCampaign(){return this.campaignService.getCampaignId()}ngOnInit(){this.title=this.activeRoute.snapshot.data.title,this.campaign_id=this.getCurrentCampaign(),this.campaign_id&&(this.parameters.campaign_id=this.campaign_id)}ngAfterViewInit(){this.loadReportData()}loadReportData(){this.subscription=p.a.merge(this.activeRoute.queryParams.pipe(Object(g.a)(e=>(this.parameters=d.a.merge({},this.parameters,e),this.parameters)),Object(u.a)(e=>this.loadData(e))),this.search()).subscribe(e=>{this.records=e})}loadData(e){return this.campaign_id&&(e.campaign_id=this.campaign_id),this.reportsService.getActivityLog(e)}search(e={}){return this.sf.valueChanges.pipe(Object(h.a)(400),Object(v.a)(),Object(g.a)(t=>(this.searchObj=d.a.removeNullKeys(t),this.parameters=d.a.merge({},this.parameters,this.searchObj,e),this.parameters)),Object(S.a)(e=>this.loadData(e)))}pageChange(e){this.router.navigate([],{relativeTo:this.activeRoute,queryParams:{page:e,campaign_id:this.campaign_id}})}changeCampaign(e){this.campaignService.setCampaignId(e.id),this.campaign_id=this.getCurrentCampaign(),this.parameters.campaign_id=this.campaign_id,this.sf.form.updateValueAndValidity()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(f["\u0275\u0275directiveInject"](l.c),f["\u0275\u0275directiveInject"](l.a),f["\u0275\u0275directiveInject"](x.a),f["\u0275\u0275directiveInject"](b.a))},e.\u0275cmp=f["\u0275\u0275defineComponent"]({type:e,selectors:[["app-activity-log"]],viewQuery:function(e,t){var n;1&e&&f["\u0275\u0275viewQuery"](E,!0),2&e&&f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.sf=n.first)},decls:14,vars:2,consts:[["id","simple-table"],[1,"row"],[1,"col-sm-12"],[1,"card","card-border-shadow-0"],[1,"card-header","m-top-bottom-10","px-3"],[1,"card-title"],[1,"card-body"],[1,"px-3"],["name","searchForm","ngForm","",1,"table-responsive"],["searchForm","ngForm"],["class","card-block",4,"ngIf"],["loading",""],[1,"card-block"],[2,"float","right"],[1,"tot-record"],[1,"table","table-bordered","table-condensed"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[3,"maxSize","rotate","collectionSize","pageSize","page","pageChange"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"section",0),f["\u0275\u0275elementStart"](1,"div",1),f["\u0275\u0275elementStart"](2,"div",2),f["\u0275\u0275elementStart"](3,"div",3),f["\u0275\u0275elementStart"](4,"div",4),f["\u0275\u0275elementStart"](5,"h4",5),f["\u0275\u0275text"](6),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"div",6),f["\u0275\u0275elementStart"](8,"div",7),f["\u0275\u0275elementStart"](9,"form",8,9),f["\u0275\u0275template"](11,w,24,4,"div",10),f["\u0275\u0275elementEnd"](),f["\u0275\u0275template"](12,I,1,0,"ng-template",null,11,f["\u0275\u0275templateRefExtractor"]),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](6),f["\u0275\u0275textInterpolate"](t.title),f["\u0275\u0275advance"](5),f["\u0275\u0275property"]("ngIf",t.records))},directives:[c.D,c.r,c.s,a.n,a.m,r.l],pipes:[a.h,a.e],styles:[""]}),e})(),data:{title:"Activity Log",permission:"activity-log"}}];let O=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[l.g.forChild(_)],l.g]}),e})(),D=(()=>{class e{}return e.\u0275mod=f["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[b.a],imports:[[a.c,r.j,c.l,O,c.y,o.b,i.b.forRoot(),s.a,r.i]]}),e})()},"uu/O":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{static removeNullKeys(e){return Object.keys(e).reduce((t,n)=>{const a=t;return void 0!==e[n]&&(a[n]=e[n]),a},{})}static merge(...e){let t={};return e.forEach(e=>{t=Object.assign(t,e)}),t}static setValueCampaign(e){a.campaign_id=e}getValueCampaign(){return a.campaign_id}static dropDownSettings(e,t,n,a){return{singleSelection:e||!1,idField:n||"id",textField:a||"name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:3,allowSearchFilter:!0,closeDropDownOnSelection:t||!0}}}}}]);
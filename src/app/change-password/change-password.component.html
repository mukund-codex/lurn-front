<section id="basic-form-layouts">
	<div class="row match-height">
		<div class="col-md-12">
			<div class="card">
				<div class="card-body">
					<div class="px-3">
						<ng-container *ngIf="buildForm; else norecord">
                            <form class="form form-horizontal striped-rows" [formGroup]="changePasswordForm" (submit)="onSubmit()">

                                <div class="form-body">
									<h4 class="form-section">
										<i class="ft-user"></i>
										{{ title }}
									</h4>

                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-md-3 pt-1" for="current_password">
                                                Current Password
                                                <span style="color:red;">*</span>
                                            </label>
                                            <div class="col-md-9">

                                                <input
                                                    formControlName="current_password"
                                                    id="current_password"
                                                    type="password" 
                                                    class="form-control" 
                                                    autocomplete="off"/>
                                                
                                                <div *ngIf="submitted && changePasswordForm.get('current_password').errors"
													class="invalid-feedback">
													<div *ngIf="changePasswordForm.get('current_password').errors.required">
														Current Password is required!
													</div>
													<div *ngIf="changePasswordForm.get('current_password').errors.minlength">
														Please Enter atleast 3 Characters!
													</div>
													<div *ngIf="changePasswordForm.get('current_password').errors.maxlength">
														Current Password too long!
													</div>
                                                </div>
                                                
                                                <div *ngIf="error_messages.current_password" class="invalid-feedback">
													{{ error_messages.current_password }}
												</div>

                                            </div>
                                        </div>
                                    </div>
                                
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-md-3 pt-1" for="new_password">
                                                New Password
                                                <span style="color:red;">*</span>
                                            </label>
                                            <div class="col-md-9">
                                                <input 
                                                    formControlName="new_password" 
                                                    id="new_password"
                                                    type="password"  maxlength="25" 
                                                    class="form-control" (change)="onPasswordChange()" 
                                                    autocomplete="off"/>
                                                
                                                <div *ngIf="submitted && changePasswordForm.get('new_password').errors"
													class="invalid-feedback">
													<div *ngIf="changePasswordForm.get('new_password').errors.required">
														New Password is required!
													</div>
													<div *ngIf="changePasswordForm.get('new_password').errors.minlength">
														Please Enter atleast 3 Characters!
													</div>
													<div *ngIf="changePasswordForm.get('new_password').errors.maxlength">
														New Password too long!
													</div>
                                                </div>
                                                
                                                <div *ngIf="error_messages.new_password" class="invalid-feedback">
													{{ error_messages.new_password }}
												</div>
                                            </div>
                                        </div>
                                    </div>
                                
                                    <div class="form-group">
                                        <div class="row">
                                            <label class="col-md-3 pt-1" for="new_password_confirmation">
                                                Confirm Password
                                                <span style="color:red;">*</span>
                                            </label>
                                            <div class="col-md-9">
                                                <input 
                                                    formControlName="new_password_confirmation" 
                                                    id="new_password_confirmation"
                                                    type="password" maxlength="25" 
                                                    class="form-control" (change)="onPasswordChange()" 
                                                    autocomplete="off"/>

                                                <div *ngIf="submitted && changePasswordForm.get('new_password_confirmation').errors"
													class="invalid-feedback">
													<div *ngIf="changePasswordForm.get('new_password_confirmation').errors.required">
														Confirm Password is required!
													</div>
													<div *ngIf="changePasswordForm.get('new_password_confirmation').errors.minlength">
														Please Enter atleast 3 Characters!
													</div>
													<div *ngIf="changePasswordForm.get('new_password_confirmation').errors.maxlength">
														Confirm Password too long!
                                                    </div>
                                                    <!--<div *ngIf="mismatchPassword">
                                                        Not Match
                                                    </div>-->
                                                </div>
                                                
                                                <div *ngIf="error_messages.new_password_confirmation" class="invalid-feedback">
													{{ error_messages.new_password_confirmation }}
												</div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-actions center">
										<div class="col-md-3"></div>
										<div class="col-sm-9">
											<a [routerLink]="['/home']" class="btn btn-raised btn-orange mr-1">
												<i class="ft-x"></i>
												Cancel
											</a>

											<button type="submit" class="btn btn-raised btn-primary">
												<i class="fa fa-check-square-o"></i>
												Save
											</button>
										</div>
									</div>
                                </div>
                            </form>
                        </ng-container>

                        <ng-template #norecord>
                            <p>Loading Data...</p>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
